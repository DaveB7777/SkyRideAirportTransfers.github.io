 <!-- FOOTER -->
  <footer class="bg-white border-t py-6 text-center text-sm text-gray-600">
    © <span id="year"></span> AeroRide. All rights reserved.
  </footer>

  <!-- ✅ reCAPTCHA -->
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>

  <!-- ✅ Custom Script -->
  <script>
  document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("year").textContent = new Date().getFullYear();
    const EMAIL = "bookings@aeroride.com";
    const WA_PHONE = "447594261537";
    const bookingForm = document.getElementById("bookingForm");
    const sendWaBtn = document.getElementById("send-wa");
    const sendEmailBtn = document.getElementById("send-email");

    const buildWhatsAppLink = (msg) => `https://wa.me/${WA_PHONE}?text=${encodeURIComponent(msg)}`;
    const buildEmailLink = (subject, body) => `mailto:${EMAIL}?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(body)}`;

    const buildMessage = () => {
      const form = Object.fromEntries(new FormData(bookingForm).entries());
      const vehicle = "Mercedes Vito Tourer";
      return {
        subject: `Booking Request from ${form.name || "Guest"}`,
        body: `Booking request:\n\n` +
              `Name: ${form.name}\n` +
              `Phone: ${form.phone}\n` +
              `Pickup: ${form.pickup}\n` +
              `Dropoff: ${form.dropoff}\n` +
              `Date: ${form.date} ${form.time}\n` +
              `Passengers: ${form.passengers}\n` +
              `Vehicle: ${vehicle}\n` +
              `Return Trip: ${form.returnTrip}\n` +
              (form.returnTrip === "Return" ? `Return Date: ${form.returnDate} ${form.returnTime}\n` : "") +
              (form.flight ? `Flight: ${form.flight}\n` : "") +
              (form.notes ? `Notes: ${form.notes}\n` : ""),
        wa: `Booking request from *${form.name || "Guest"}*\n` +
            `Phone: ${form.phone || "N/A"}\n` +
            `Pickup: ${form.pickup}\n` +
            `Dropoff: ${form.dropoff}\n` +
            `Date: ${form.date} ${form.time}\n` +
            `Passengers: ${form.passengers}\n` +
            `Vehicle: ${vehicle}\n` +
            `Return Trip: ${form.returnTrip}\n` +
            (form.returnTrip === "Return" ? `Return Date: ${form.returnDate} ${form.returnTime}\n` : "") +
            (form.flight ? `Flight: ${form.flight}\n` : "") +
            (form.notes ? `Notes: ${form.notes}\n` : "")
      };
    };

    const validateForm = () => {
      const form = Object.fromEntries(new FormData(bookingForm).entries());
      if (!form.name || form.name.length < 2) { alert("Please enter your full name."); return false; }
      if (!form.phone.match(/^[+0-9\s-]{7,15}$/)) { alert("Please enter a valid phone number."); return false; }
      if (!form.pickup || !form.dropoff) { alert("Pickup and dropoff are required."); return false; }
      if (!form.date || !form.time) { alert("Please select a valid date and time."); return false; }
      if (form.passengers < 1 || form.passengers > 8) { alert("Please enter passengers (1–8)."); return false; }
      if (!form.returnTrip) { alert("Please select if this is a return trip."); return false; }
      if (form.returnTrip === "Return" && (!form.returnDate || !form.returnTime)) {
        alert("Please provide return date and time."); return false;
      }
      if (grecaptcha.getResponse().length === 0) {
        alert("Please verify you are not a robot."); return false;
      }
      return true;
    };

    sendWaBtn.addEventListener("click", () => {
      if (!validateForm()) return;
      const { wa } = buildMessage();
      window.open(buildWhatsAppLink(wa), "_blank");
    });

    sendEmailBtn.addEventListener("click", () => {
      if (!validateForm()) return;
      const { subject, body } = buildMessage();
      window.location.href = buildEmailLink(subject, body);
    });

    const menuToggle = document.getElementById("menu-toggle");
    const mobileMenu = document.getElementById("mobile-menu");
    menuToggle.addEventListener("click", () => {
      mobileMenu.classList.toggle("hidden");
    });

    const returnTripSelect = document.getElementById("returnTrip");
    const returnFields = document.getElementById("returnFields");
    returnTripSelect.addEventListener("change", () => {
      if (returnTripSelect.value === "Return") {
        returnFields.classList.remove("hidden");
      } else {
        returnFields.classList.add("hidden");
      }
    });

    const today = new Date().toISOString().split("T")[0];
    document.querySelector('input[name="date"]').setAttribute("min", today);
    document.getElementById("returnDate").setAttribute("min", today);
  });
  </script>
</body>
</html>
